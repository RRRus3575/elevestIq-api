## üß© –û–ø–∏—Å –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö –≤ Prisma

---

### üë§ `User` ‚Äî –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
- –ú–æ–∂–µ –±—É—Ç–∏ **—Å—Ç–∞—Ä—Ç–∞–ø–æ–º** –∞–±–æ **—ñ–Ω–≤–µ—Å—Ç–æ—Ä–æ–º** (`role`)
- –ü–æ–ª—è: `email`, `password`, `name`, `role`, `token`, `isOnboarded`
- –ó–≤‚Äô—è–∑–∫–∏:
  - 1‚Äì1 –∑ `StartupProfile` (–¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø—ñ–≤)
  - 1‚Äì1 –∑ `InvestorProfile` (–¥–ª—è —ñ–Ω–≤–µ—Å—Ç–æ—Ä—ñ–≤)
  - 1‚ÄìN –∑ `Agreement` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω—ñ —É–≥–æ–¥–∏
  - 1‚ÄìN –∑ `Signature` ‚Äî —è–∫ –ø—ñ–¥–ø–∏—Å–∞–Ω—Ç
  - 1‚ÄìN –∑ `Message` ‚Äî —è–∫ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –∞–±–æ –æ–¥–µ—Ä–∂—É–≤–∞—á
  - 1‚ÄìN –∑ `Session` ‚Äî refresh-—Å–µ—Å—ñ—ó.
  - 1‚ÄìN –∑ `UserToken` ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏ (verify/reset —Ç–æ—â–æ)

---

### üîê `Session` ‚Äî Refresh-—Å–µ—Å—ñ—è
- –ó–±–µ—Ä—ñ–≥–∞—î —Ö–µ—à refresh-—Ç–æ–∫–µ–Ω–∞ —Ç–∞ –º–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é.
- –ü–æ–ª—è:
  - userId, refreshHash, userAgent?, ip?, createdAt, expiresAt, revokedAt?
- –ó–≤‚Äô—è–∑–æ–∫:
  - N‚Äì1 –¥–æ User (–∑ onDelete: Cascade)

---

### üéüÔ∏è `UserToken` ‚Äî –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ñ –¥—ñ—ó (verify/reset/login)
- –¢–æ–∫–µ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –≤–∏–≥–ª—è–¥—ñ SHA-256 tokenHash.
- –ü–æ–ª—è: userId, tokenHash, type, meta?, expiresAt, usedAt?, createdAt
- –¢–∏–ø–∏ (TokenType): password_reset, email_verify, email_change, login_verify
–ó–≤‚Äô—è–∑–æ–∫:
- N‚Äì1 –¥–æ User (–∑ onDelete: Cascade)

---

### üßë‚Äçüíº `StartupProfile` ‚Äî –ü—Ä–æ—Ñ—ñ–ª—å —Å—Ç–∞—Ä—Ç–∞–ø—É
- –ü—Ä–∏–≤‚Äô—è–∑–∞–Ω–∏–π –¥–æ `User` –∑ —Ä–æ–ª–ª—é `STARTUP`
- –ü–æ–ª—è:
  - `companyName`, `description`, `goals`
  - `tags[]`, `industry`, `stage`, `location`

---

### üí∞ `InvestorProfile` ‚Äî –ü—Ä–æ—Ñ—ñ–ª—å —ñ–Ω–≤–µ—Å—Ç–æ—Ä–∞
- –ü—Ä–∏–≤‚Äô—è–∑–∞–Ω–∏–π –¥–æ `User` –∑ —Ä–æ–ª–ª—é `INVESTOR`
- –ü–æ–ª—è:
  - `companyName`, `description`, `interests`
  - `tags[]`, `region`, `budgetMin`, `budgetMax`

---

### üìÑ `AgreementTemplate` ‚Äî –®–∞–±–ª–æ–Ω —É–≥–æ–¥–∏
- –ì–æ—Ç–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ —é—Ä–∏–¥–∏—á–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: SAFE, Term Sheet)
- –ü–æ–ª—è:
  - `name`, `description`, `content` (HTML/Markdown)

---

### üìë `Agreement` ‚Äî –£–≥–æ–¥–∞
- –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –Ω–∞ –æ—Å–Ω–æ–≤—ñ —à–∞–±–ª–æ–Ω—É (`AgreementTemplate`)
- –ü–æ–ª—è:
  - `filledData` (JSON) ‚Äî –¥–∞–Ω—ñ, –≤–≤–µ–¥–µ–Ω—ñ –≤ —à–∞–±–ª–æ–Ω
  - `status`: `DRAFT`, `SENT`, `SIGNED`, `REJECTED`
  - `pdfUrl` ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π PDF
- –ó–≤‚Äô—è–∑–∫–∏:
  - 1‚Äì1 `template`
  - 1‚ÄìN `signatures`

---

### üñãÔ∏è `Signature` ‚Äî –ü—ñ–¥–ø–∏—Å —É–≥–æ–¥–∏
- –û–¥–∏–Ω –∑–∞–ø–∏—Å = –ø—ñ–¥–ø–∏—Å –æ–¥–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–æ –æ–¥–Ω—ñ–π —É–≥–æ–¥—ñ
- –ü–æ–ª—è:
  - `userId`, `agreementId`, `signedAt`
  - `signatureHash`, `signedDocumentUrl`
  - `isVerified`, `method`
- –î–æ—Å—Ç—É–ø–Ω—ñ –º–µ—Ç–æ–¥–∏ –ø—ñ–¥–ø–∏—Å—É (`SignatureMethod`):
  - `CLICK` ‚Äî –∫–ª—ñ–∫ ¬´–ü—ñ–¥–ø–∏—Å–∞—Ç–∏¬ª
  - `DRAW` ‚Äî —Ä—É–∫–æ–ø–∏—Å–Ω–∏–π –ø—ñ–¥–ø–∏—Å
  - `BANK_ID` ‚Äî MobileID / BankID
  - `DOCUMENT_UPLOAD` ‚Äî –ø—ñ–¥–ø–∏—Å–∞–Ω–∏–π —Ñ–∞–π–ª

---

### üìú `SignatureLog` ‚Äî –õ–æ–≥ –ø—ñ–¥–ø–∏—Å—É
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –¥—ñ–π –ø—ñ–¥ —á–∞—Å –ø—ñ–¥–ø–∏—Å—É
- –ü–æ–ª—è:
  - `signatureId`, `timestamp`, `action`
  - `ipAddress`, `userAgent`

---

### üí¨ `Message` ‚Äî –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- –ü—Ä–∏–≤–∞—Ç–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- –ü–æ–ª—è:
  - `senderId`, `receiverId`, `content`, `type`
  - `isRead`, `timestamp`
- –¢–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (`MessageType`):
  - `TEXT`, `IMAGE`, `FILE`, `LINK`, `VIDEO`

---

### üîÅ –û—Å–Ω–æ–≤–Ω—ñ –∑–≤‚Äô—è–∑–∫–∏ –º—ñ–∂ –º–æ–¥–µ–ª—è–º–∏
- `User` –º–∞—î –æ–¥–∏–Ω —ñ–∑ –¥–≤–æ—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ ‚Äî –∞–±–æ `StartupProfile`, –∞–±–æ `InvestorProfile`, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –æ–±—Ä–∞–Ω–æ—ó —Ä–æ–ª—ñ –ø—ñ–¥ —á–∞—Å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó (`role`).
- `User` –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ —É–≥–æ–¥ (`Agreement`) ‚Äî —Ç–æ–±—Ç–æ —î –∞–≤—Ç–æ—Ä–æ–º —É–≥–æ–¥.
- `User` –º–æ–∂–µ –ø—ñ–¥–ø–∏—Å—É–≤–∞—Ç–∏ —É–≥–æ–¥–∏ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å `Signature`, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î –∑–≤‚Äô—è–∑–æ–∫ –±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —Ç–∞ —É–≥–æ–¥–∞–º–∏.
- `AgreementTemplate` ‚Äî —Ü–µ —à–∞–±–ª–æ–Ω, –Ω–∞ –æ—Å–Ω–æ–≤—ñ —è–∫–æ–≥–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤—ñ —É–≥–æ–¥–∏ (`Agreement`).
- `Agreement` –º–æ–∂–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø—ñ–¥–ø–∏—Å—ñ–≤ (`Signature`), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥ —Å—Ç–∞—Ä—Ç–∞–ø—É —Ç–∞ —ñ–Ω–≤–µ—Å—Ç–æ—Ä–∞.
- `Signature` –∑–±–µ—Ä—ñ–≥–∞—î —Å–≤–æ—é —ñ—Å—Ç–æ—Ä—ñ—é –≤ `SignatureLog` ‚Äî –∫–æ–∂–Ω–∞ –¥—ñ—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞) –ª–æ–≥—É—é—Ç—å—Å—è –∑ IP-–∞–¥—Ä–µ—Å–æ—é —Ç–∞ user-agent.
- `User` –º–æ–∂–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ–Ω—à–æ–º—É `User` —á–µ—Ä–µ–∑ `Message`, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î –ø—Ä–∏–≤–∞—Ç–Ω–∏–π —á–∞—Ç –º—ñ–∂ —Å—Ç–∞—Ä—Ç–∞–ø–æ–º —Ç–∞ —ñ–Ω–≤–µ—Å—Ç–æ—Ä–æ–º.
- `User` ‚Üî `Session`: 1‚ÄìN refresh-—Å–µ—Å—ñ—ó.
- `User` ‚Üî `UserToken`: 1‚ÄìN –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏.


---

### üì¶ Enum-–∏

#### `Role`
- `STARTUP`
- `INVESTOR`

#### `AgreementStatus`
- `DRAFT`
- `SENT`
- `SIGNED`
- `REJECTED`

#### `SignatureMethod`
- `CLICK`
- `DRAW`
- `BANK_ID`
- `DOCUMENT_UPLOAD`

#### `MessageType`
- `TEXT`
- `IMAGE`
- `FILE`
- `LINK`
- `VIDEO`

### `TokenType`
- `password_reset`
- `email_verify`
- `email_change`
- `login_verify`

---
